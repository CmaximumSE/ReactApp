{"ast":null,"code":"var _jsxFileName = \"/Users/maximum/Desktop/ReactApp/day06_review/src/ReviewItem.js\",\n  _s = $RefreshSig$();\nimport { useState, useRef } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function ReviewItem(_ref) {\n  _s();\n  let {\n    title,\n    content,\n    emotion,\n    create_date,\n    onRemove,\n    onEdit,\n    id\n  } = _ref;\n  const [isEdit, setIsEdit] = useState(false);\n  const [localContent, setLocalContent] = useState(content);\n  const localContentRef = useRef();\n  // ---------------------------\n  const handleRemove = () => {\n    if (window.confirm(`${id}번째 글을 삭제하시겠습니까?`)) {\n      onRemove(id);\n    }\n  };\n  // ---------------------------\n  const toggleEdit = () => {\n    setIsEdit(!isEdit);\n  };\n  // ---------------------------\n  const handleQuitEdit = () => {\n    setIsEdit(false);\n  };\n  // ---------------------------\n  const handleEdit = () => {\n    if (localContent.length < 5) {\n      alert(\"리뷰글은 5글자 이상 입력하세요.\");\n      localContentRef.current.focus();\n      return;\n    }\n    if (window.confirm(`${id}번째 글을 수정하시겠습니까?`)) {\n      onEdit(id, localContent);\n      toggleEdit();\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"ReviewItem\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"info\",\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        children: [\"\\uC601\\uD654\\uC81C\\uBAA9 : \", title]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 9\n      }, this), \" | \", /*#__PURE__*/_jsxDEV(\"span\", {\n        children: [\"\\uD3C9\\uC810 : \", emotion]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 39\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [\"\\uC791\\uC131\\uC2DC\\uAC04 :\", new Date(create_date).toLocaleDateString()]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [\"\\uB9AC\\uBDF0 \\uAE00 :\", isEdit ? /*#__PURE__*/_jsxDEV(\"textarea\", {\n        onChange: e => setLocalContent(e.target.value),\n        value: localContent,\n        ref: localContentRef\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 11\n      }, this) : content]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }, this), isEdit ? /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleQuitEdit,\n        children: \"\\uC218\\uC815\\uCDE8\\uC18C\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 10\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleEdit,\n        children: \"\\uC218\\uC815\\uC644\\uB8CC\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 10\n      }, this)]\n    }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"remove\",\n        onClick: handleRemove,\n        children: \"\\uC0AD\\uC81C\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: toggleEdit,\n        children: \"\\uC218\\uC815\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 44,\n    columnNumber: 5\n  }, this);\n}\n_s(ReviewItem, \"XJ5P6QdacV4thRA0AMStDYt9rxY=\");\n_c = ReviewItem;\nvar _c;\n$RefreshReg$(_c, \"ReviewItem\");","map":{"version":3,"names":["useState","useRef","ReviewItem","title","content","emotion","create_date","onRemove","onEdit","id","isEdit","setIsEdit","localContent","setLocalContent","localContentRef","handleRemove","window","confirm","toggleEdit","handleQuitEdit","handleEdit","length","alert","current","focus","Date","toLocaleDateString","e","target","value"],"sources":["/Users/maximum/Desktop/ReactApp/day06_review/src/ReviewItem.js"],"sourcesContent":["import {useState,useRef} from \"react\";\n\nexport default function ReviewItem({\n  title,\n  content,\n  emotion,\n  create_date,\n  onRemove,\n  onEdit,\n  id,\n}) {\n  const [isEdit, setIsEdit] = useState(false);\n  const [localContent, setLocalContent] = useState(content);\n  const localContentRef=useRef()\n  // ---------------------------\n  const handleRemove = () => {\n    if (window.confirm(`${id}번째 글을 삭제하시겠습니까?`)) {\n      onRemove(id);\n    }\n  };\n  // ---------------------------\n  const toggleEdit = () => {\n    setIsEdit(!isEdit);\n  };\n  // ---------------------------\n  const handleQuitEdit = () => {\n    setIsEdit(false);\n  };\n  // ---------------------------\n  const handleEdit = () => {\n    if (localContent.length < 5) {\n      alert(\"리뷰글은 5글자 이상 입력하세요.\");\n      localContentRef.current.focus();\n      return;\n    }\n    if (window.confirm(`${id}번째 글을 수정하시겠습니까?`)) {\n      onEdit(id,localContent);\n      toggleEdit()\n    }\n\n  };\n \n  return (\n    <div className=\"ReviewItem\">\n      <div className=\"info\">\n        <span>영화제목 : {title}</span> | <span>평점 : {emotion}</span>\n      </div>\n      <p>작성시간 :{new Date(create_date).toLocaleDateString()}</p>\n\n      <p>리뷰 글 :{\n        isEdit?(\n          <textarea onChange = {e => setLocalContent(e.target.value)}\n          value ={ localContent}\n          ref = {localContentRef}\n          >\n          </textarea>\n\n        ):(content)\n               \n        }</p>\n\n      {isEdit ? (\n         <>\n         <button onClick = {handleQuitEdit}>\n           수정취소\n         </button>\n         <button onClick = {handleEdit}>\n           수정완료\n         </button>\n       </>\n      ) : (\n        <>\n          <button className = \"remove\" onClick = {handleRemove}>삭제</button>\n          <button onClick = {toggleEdit}>수정</button>\n        </>\n      )}\n    </div>\n  );\n}"],"mappings":";;AAAA,SAAQA,QAAQ,EAACC,MAAM,QAAO,OAAO;AAAC;AAAA;AAEtC,eAAe,SAASC,UAAU,OAQ/B;EAAA;EAAA,IARgC;IACjCC,KAAK;IACLC,OAAO;IACPC,OAAO;IACPC,WAAW;IACXC,QAAQ;IACRC,MAAM;IACNC;EACF,CAAC;EACC,MAAM,CAACC,MAAM,EAAEC,SAAS,CAAC,GAAGX,QAAQ,CAAC,KAAK,CAAC;EAC3C,MAAM,CAACY,YAAY,EAAEC,eAAe,CAAC,GAAGb,QAAQ,CAACI,OAAO,CAAC;EACzD,MAAMU,eAAe,GAACb,MAAM,EAAE;EAC9B;EACA,MAAMc,YAAY,GAAG,MAAM;IACzB,IAAIC,MAAM,CAACC,OAAO,CAAE,GAAER,EAAG,iBAAgB,CAAC,EAAE;MAC1CF,QAAQ,CAACE,EAAE,CAAC;IACd;EACF,CAAC;EACD;EACA,MAAMS,UAAU,GAAG,MAAM;IACvBP,SAAS,CAAC,CAACD,MAAM,CAAC;EACpB,CAAC;EACD;EACA,MAAMS,cAAc,GAAG,MAAM;IAC3BR,SAAS,CAAC,KAAK,CAAC;EAClB,CAAC;EACD;EACA,MAAMS,UAAU,GAAG,MAAM;IACvB,IAAIR,YAAY,CAACS,MAAM,GAAG,CAAC,EAAE;MAC3BC,KAAK,CAAC,oBAAoB,CAAC;MAC3BR,eAAe,CAACS,OAAO,CAACC,KAAK,EAAE;MAC/B;IACF;IACA,IAAIR,MAAM,CAACC,OAAO,CAAE,GAAER,EAAG,iBAAgB,CAAC,EAAE;MAC1CD,MAAM,CAACC,EAAE,EAACG,YAAY,CAAC;MACvBM,UAAU,EAAE;IACd;EAEF,CAAC;EAED,oBACE;IAAK,SAAS,EAAC,YAAY;IAAA,wBACzB;MAAK,SAAS,EAAC,MAAM;MAAA,wBACnB;QAAA,WAAM,6BAAO,EAACf,KAAK;MAAA;QAAA;QAAA;QAAA;MAAA,QAAQ,OAAG;QAAA,WAAM,iBAAK,EAACE,OAAO;MAAA;QAAA;QAAA;QAAA;MAAA,QAAQ;IAAA;MAAA;MAAA;MAAA;IAAA,QACrD,eACN;MAAA,WAAG,4BAAM,EAAC,IAAIoB,IAAI,CAACnB,WAAW,CAAC,CAACoB,kBAAkB,EAAE;IAAA;MAAA;MAAA;MAAA;IAAA,QAAK,eAEzD;MAAA,WAAG,uBAAM,EACPhB,MAAM,gBACJ;QAAU,QAAQ,EAAIiB,CAAC,IAAId,eAAe,CAACc,CAAC,CAACC,MAAM,CAACC,KAAK,CAAE;QAC3D,KAAK,EAAIjB,YAAa;QACtB,GAAG,EAAIE;MAAgB;QAAA;QAAA;QAAA;MAAA,QAEZ,GAEVV,OAAQ;IAAA;MAAA;MAAA;MAAA;IAAA,QAEN,EAENM,MAAM,gBACJ;MAAA,wBACA;QAAQ,OAAO,EAAIS,cAAe;QAAA,UAAC;MAEnC;QAAA;QAAA;QAAA;MAAA,QAAS,eACT;QAAQ,OAAO,EAAIC,UAAW;QAAA,UAAC;MAE/B;QAAA;QAAA;QAAA;MAAA,QAAS;IAAA,gBACR,gBAEF;MAAA,wBACE;QAAQ,SAAS,EAAG,QAAQ;QAAC,OAAO,EAAIL,YAAa;QAAA,UAAC;MAAE;QAAA;QAAA;QAAA;MAAA,QAAS,eACjE;QAAQ,OAAO,EAAIG,UAAW;QAAA,UAAC;MAAE;QAAA;QAAA;QAAA;MAAA,QAAS;IAAA,gBAE7C;EAAA;IAAA;IAAA;IAAA;EAAA,QACG;AAEV;AAAC,GA5EuBhB,UAAU;AAAA,KAAVA,UAAU;AAAA;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}